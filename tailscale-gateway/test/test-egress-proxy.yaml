apiVersion: gateway.tailscale.io/v1alpha1
kind: TailscaleProxy
metadata:
  name: test-egress
  namespace: tailscale-gateway-system
spec:
  type: egress
  tailscale:
    authKeySecret:
      name: tailscale-oauth
      clientIdKey: client-id
      clientSecretKey: client-secret
    tags:
      - "tag:k8s"
      - "tag:egress"
  egress:
    routes:
      - "100.64.0.0/24"  # Example Tailscale subnet
      - "test-service.ts.net"
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 256Mi
