apiVersion: gateway.tailscale.io/v1alpha1
kind: TailscaleProxy
metadata:
  name: test-ingress
  namespace: tailscale-gateway-system
spec:
  type: ingress
  hostname: "test-app"
  tailscale:
    authKeySecret:
      name: tailscale-oauth
      clientIdKey: client-id
      clientSecretKey: client-secret
    tags:
      - "tag:k8s"
      - "tag:ingress"
  backend:
    service:
      name: test-app
      namespace: default
      port: 80
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 256Mi